<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>西葡語學習＋測驗</title>
<style>
  body {
    font-family: "Segoe UI", sans-serif;
    background: linear-gradient(to bottom right, #ffecd2, #fcb69f);
    margin: 0;
    padding: 0;
  }
  header {
    text-align: center;
    padding: 1rem;
    background: #ff7043;
    color: white;
    font-size: 1.5rem;
    font-weight: bold;
  }
  main {
    max-width: 800px;
    margin: auto;
    padding: 1rem;
  }
  .card {
    background: white;
    border-radius: 1rem;
    padding: 2rem;
    text-align: center;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    margin-bottom: 1rem;
  }
  .lang-label {
    font-size: 1rem;
    font-weight: bold;
    margin-bottom: 0.5rem;
    color: #666;
  }
  .word-main {
    font-size: 3rem;
    font-weight: bold;
    color: #ff7043;
    word-break: break-word;
  }
  .word-zh {
    font-size: 1.5rem;
    color: #555;
    margin-top: 0.5rem;
  }
  .controls {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-top: 1rem;
  }
  button {
    padding: 0.6rem 1.2rem;
    border: none;
    border-radius: 0.5rem;
    cursor: pointer;
    background: #ffcc80;
    font-weight: bold;
    font-size: 1rem;
    transition: background 0.3s;
  }
  button:hover {
    background: #ffb74d;
  }
  .quiz-options {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-top: 1rem;
  }
  .quiz-options button {
    background: #90caf9;
    border-radius: 0.5rem;
  }
  .quiz-options button:hover {
    background: #64b5f6;
  }
  @media (max-width: 600px) {
    .word-main {
      font-size: 2rem;
    }
    .word-zh {
      font-size: 1.2rem;
    }
  }
</style>
</head>
<body>
<header>📚 西葡語隨機學習 + 測驗</header>
<main>
  <!-- 單字顯示卡片 -->
  <div class="card" id="word-card">
    <div class="lang-label" id="lang-label">[ES]</div>
    <div class="word-main" id="word-main">Hola</div>
    <div class="word-zh" id="word-zh">你好</div>
    <div class="controls">
      <button onclick="prevWord()">⬅ 上一個</button>
      <button onclick="speakCurrent()">🔊 發音</button>
      <button onclick="nextWord()">下一個 ➡</button>
    </div>
  </div>

  <!-- 測驗卡片 -->
  <div class="card" id="quiz-card" style="display:none;">
    <div><strong>測驗：</strong>這個單字的中文意思是？</div>
    <div class="word-main" id="quiz-word">Hola</div>
    <div class="quiz-options" id="quiz-options"></div>
  </div>
</main>

<script>
  // === 語料（示例，實際應放 500 筆） ===
  const wordList = [
    { lang: "ES", word: "hola", zh: "你好" },
    { lang: "PT", word: "olá", zh: "你好" },
    { lang: "ES", word: "gracias", zh: "謝謝" },
    { lang: "PT", word: "obrigado", zh: "謝謝" },
    { lang: "ES", word: "adiós", zh: "再見" },
    { lang: "PT", word: "adeus", zh: "再見" },
    { lang: "ES", word: "por favor", zh: "請" },
    { lang: "PT", word: "por favor", zh: "請" },
    { lang: "ES", word: "sí", zh: "是" },
    { lang: "PT", word: "sim", zh: "是" },
    { lang: "ES", word: "no", zh: "不是" },
    { lang: "PT", word: "não", zh: "不是" },
    { lang: "ES", word: "perdón", zh: "抱歉" },
    { lang: "PT", word: "desculpe", zh: "抱歉" },
    { lang: "ES", word: "salud", zh: "乾杯" },
    { lang: "PT", word: "saúde", zh: "乾杯" },
    { lang: "ES", word: "feliz", zh: "快樂" },
    { lang: "PT", word: "feliz", zh: "快樂" },
    { lang: "ES", word: "bueno", zh: "好" },
    { lang: "PT", word: "bom", zh: "好" },
    { lang: "ES", word: "malo", zh: "壞" },
    { lang: "PT", word: "mau", zh: "壞" },
    { lang: "ES", word: "grande", zh: "大" },
    { lang: "PT", word: "grande", zh: "大" },
    { lang: "ES", word: "pequeño", zh: "小" },
    { lang: "PT", word: "pequeno", zh: "小" },
    { lang: "ES", word: "rápido", zh: "快" },
    { lang: "PT", word: "rápido", zh: "快" },
    { lang: "ES", word: "lento", zh: "慢" },
    { lang: "PT", word: "lento", zh: "慢" },
    { lang: "ES", word: "frío", zh: "冷" },
    { lang: "PT", word: "frio", zh: "冷" },
    { lang: "ES", word: "caliente", zh: "熱" },
    { lang: "PT", word: "quente", zh: "熱" },
    { lang: "ES", word: "amigo", zh: "朋友" },
    { lang: "PT", word: "amigo", zh: "朋友" },
    { lang: "ES", word: "familia", zh: "家庭" },
    { lang: "PT", word: "família", zh: "家庭" },
    { lang: "ES", word: "trabajo", zh: "工作" },
    { lang: "PT", word: "trabalho", zh: "工作" },
    { lang: "ES", word: "escuela", zh: "學校" },
    { lang: "PT", word: "escola", zh: "學校" },
    { lang: "ES", word: "comida", zh: "食物" },
    { lang: "PT", word: "comida", zh: "食物" },
    { lang: "ES", word: "agua", zh: "水" },
    { lang: "PT", word: "água", zh: "水" },
    { lang: "ES", word: "vino", zh: "酒" },
    { lang: "PT", word: "vinho", zh: "酒" },
    { lang: "ES", word: "mañana", zh: "明天" },
    { lang: "PT", word: "amanhã", zh: "明天" },
    { lang: "ES", word: "ayer", zh: "昨天" },
    { lang: "PT", word: "ontem", zh: "昨天" },
    { lang: "ES", word: "noche", zh: "晚上" },
    { lang: "PT", word: "noite", zh: "晚上" },
    { lang: "ES", word: "tarde", zh: "下午" },
    { lang: "PT", word: "tarde", zh: "下午" },
    { lang: "ES", word: "semana", zh: "週" },
    { lang: "PT", word: "semana", zh: "週" },
    { lang: "ES", word: "año", zh: "年" },
    { lang: "PT", word: "ano", zh: "年" },
    { lang: "ES", word: "mes", zh: "月" },
    { lang: "PT", word: "mês", zh: "月" },
    { lang: "ES", word: "hoy", zh: "今天" },
    { lang: "PT", word: "hoje", zh: "今天" },
    { lang: "ES", word: "casa", zh: "房子" },
    { lang: "PT", word: "casa", zh: "房子" },
    { lang: "ES", word: "calle", zh: "街道" },
    { lang: "PT", word: "rua", zh: "街道" },
    { lang: "ES", word: "ciudad", zh: "城市" },
    { lang: "PT", word: "cidade", zh: "城市" },
    { lang: "ES", word: "país", zh: "國家" },
    { lang: "PT", word: "país", zh: "國家" },
    { lang: "ES", word: "mar", zh: "海" },
    { lang: "PT", word: "mar", zh: "海" },
    { lang: "ES", word: "montaña", zh: "山" },
    { lang: "PT", word: "montanha", zh: "山" },
    { lang: "ES", word: "río", zh: "河流" },
    { lang: "PT", word: "rio", zh: "河流" },
    { lang: "ES", word: "bosque", zh: "森林" },
    { lang: "PT", word: "floresta", zh: "森林" },
    { lang: "ES", word: "flor", zh: "花" },
    { lang: "PT", word: "flor", zh: "花" },
    { lang: "ES", word: "árbol", zh: "樹" },
    { lang: "PT", word: "árvore", zh: "樹" },
    { lang: "ES", word: "sol", zh: "太陽" },
    { lang: "PT", word: "sol", zh: "太陽" },
    { lang: "ES", word: "luna", zh: "月亮" },
    { lang: "PT", word: "lua", zh: "月亮" },
    { lang: "ES", word: "estrella", zh: "星星" },
    { lang: "PT", word: "estrela", zh: "星星" },
    { lang: "ES", word: "cielo", zh: "天空" },
    { lang: "PT", word: "céu", zh: "天空" },
    { lang: "ES", word: "nube", zh: "雲" },
    { lang: "PT", word: "nuvem", zh: "雲" },
    { lang: "ES", word: "lluvia", zh: "雨" },
    { lang: "PT", word: "chuva", zh: "雨" },
    { lang: "ES", word: "nieve", zh: "雪" },
    { lang: "PT", word: "neve", zh: "雪" },
    { lang: "ES", word: "viento", zh: "風" },
    { lang: "PT", word: "vento", zh: "風" },
    { lang: "ES", word: "fuego", zh: "火" },
    { lang: "PT", word: "fogo", zh: "火" },
    { lang: "ES", word: "tierra", zh: "土地" },
    { lang: "PT", word: "terra", zh: "土地" },
    { lang: "ES", word: "aire", zh: "空氣" },
    { lang: "PT", word: "ar", zh: "空氣" },
    { lang: "ES", word: "animal", zh: "動物" },
    { lang: "PT", word: "animal", zh: "動物" },
    { lang: "ES", word: "perro", zh: "狗" },
    { lang: "PT", word: "cachorro", zh: "狗" },
    { lang: "ES", word: "gato", zh: "貓" },
    { lang: "PT", word: "gato", zh: "貓" }
    // ... 持續補到 500 筆
  ];

  let currentIndex = 0;
  let autoTimer = null;

  function showWord(index) {
    const item = wordList[index];
    if (!item) return;
    document.getElementById("lang-label").textContent = item.lang === "ES" ? "[ES]" : "[PT]";
    document.getElementById("word-main").textContent = item.word;
    document.getElementById("word-zh").textContent = item.zh;
  }

  function nextWord() {
    currentIndex = (currentIndex + 1) % wordList.length;
    showWord(currentIndex);
  }

  function prevWord() {
    currentIndex = (currentIndex - 1 + wordList.length) % wordList.length;
    showWord(currentIndex);
  }

  function speakCurrent() {
    const item = wordList[currentIndex];
    if (!item) return;
    const utter = new SpeechSynthesisUtterance(item.word);
    utter.lang = item.lang === "ES" ? "es-ES" : "pt-PT";
    speechSynthesis.speak(utter);
  }

  function startQuiz() {
    document.getElementById("quiz-card").style.display = "block";
    const qIndex = Math.floor(Math.random() * wordList.length);
    const correct = wordList[qIndex];
    document.getElementById("quiz-word").textContent = correct.word;

    const options = [correct.zh];
    while (options.length < 4) {
      const rnd = wordList[Math.floor(Math.random() * wordList.length)].zh;
      if (!options.includes(rnd)) options.push(rnd);
    }
    options.sort(() => Math.random() - 0.5);

    const container = document.getElementById("quiz-options");
    container.innerHTML = "";
    options.forEach(opt => {
      const btn = document.createElement("button");
      btn.textContent = opt;
      btn.onclick = () => {
        alert(opt === correct.zh ? "✅ 答對了！" : `❌ 錯誤，正確答案是：${correct.zh}`);
        startQuiz();
      };
      container.appendChild(btn);
    });
  }

  function startAuto(interval = 4) {
    clearInterval(autoTimer);
    autoTimer = setInterval(nextWord, interval * 1000);
  }

  window.onload = function() {
    showWord(0);
    startAuto(4);
    setTimeout(startQuiz, 8000);
  };
</script>
</body>
</html>

